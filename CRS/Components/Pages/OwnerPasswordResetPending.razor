@page "/billing/owner-reset-sent"
@using Microsoft.AspNetCore.Components
@using MudBlazor
@inject NavigationManager Nav

<MudContainer MaxWidth="MaxWidth.Medium" Class="mt-6">
    <MudPaper Class="pa-6">
        <MudText Typo="Typo.h5" Class="mb-2">Action required: set your password</MudText>
        <MudText Typo="Typo.body1" Class="mb-4">An email has been sent to <b>@(Email ?? "your address")</b> with a secure link to set your initial password for <b>@(TenantName ?? "your account")</b>. Follow the instructions in that email to complete account setup.</MudText>

        <MudAlert Severity="Severity.Warning" Elevation="0" Class="mb-4">
            If you don't see the email, check your spam folder or click the button below to go to the login page and request a password reset manually.
        </MudAlert>

        <MudStack Row="true" Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center">
            <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="GoToLogin">Go to login</MudButton>
            <MudText Typo="Typo.caption">Email: <i>@(Email ?? "-")</i></MudText>
        </MudStack>
    </MudPaper>
</MudContainer>

@code {
    [SupplyParameterFromQuery] public string? Email { get; set; }
    [SupplyParameterFromQuery(Name = "tenant")] public string? TenantName { get; set; }

    private void GoToLogin()
    {
        Nav.NavigateTo("/Account/Login");
    }
}
