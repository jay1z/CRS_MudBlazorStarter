@page "/pricing"
@* @attribute [Authorize(Policy = "RequireTenantOwner")] *@
@inject CRS.Services.Tenant.ITenantContext TenantContext
@inject ISnackbar Snackbar

<PageTitle>Pricing</PageTitle>

@* @if (TenantContext?.TenantId is null)
{
    <MudAlert Severity="Severity.Warning">Tenant context not resolved. Please reload.</MudAlert>
}
else
{
 *@    
    <!-- Stripe Hosted Pricing Table Embed -->
    <MudText Typo="Typo.h5" Class="mb-2">Choose Your Plan</MudText>
    <MudText Typo="Typo.body2" Class="mb-4">Secure billing powered by Stripe.</MudText>
    <div class="stripe-pricing-wrapper">
        <script async src="https://js.stripe.com/v3/pricing-table.js"></script>
        <stripe-pricing-table pricing-table-id="prctbl_1SWSG3FAahdrKyJ2fTWBsGZz"
            publishable-key="pk_test_51SW20SFAahdrKyJ2AgEYEQLjcPLCWNlNVMaGgadZGWxwUL9yoX5AkhUco40Cha7h3ufLMWNkiVIVPTRBKaZesIqe00zvr6Dzgz">
        </stripe-pricing-table>
    </div>
@* }
 *@
@code {
    // No server-side checkout logic needed; Stripe pricing table handles redirection.
    // Ensure success & cancel URLs plus products/prices are configured in Stripe Dashboard.
}
