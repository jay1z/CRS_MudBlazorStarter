@using System.Security.Claims
@inherits LayoutComponentBase
@inject IHostEnvironment HostEnvironment
@inject ThemeService ThemeService
@attribute [Authorize(Roles = "User")]

<MudThemeProvider Theme="@ThemeService.CurrentTheme" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<MudLayout>
    <MudAppBar Elevation="0">
        <MudText Typo="Typo.h5" Class="ml-3">Update Reserve Study</MudText>
        <MudSpacer />
        <AuthorizeView>
            <MudText Typo="Typo.body1">@context.User.Identity?.Name</MudText>
            @foreach (var role in context.User.Claims.Where(c => c.Type == ClaimTypes.Role).Select(c => c.Value))
            {
                <MudChip T="string" Color="Color.Primary" Class="ml-2">@role</MudChip>
            }
        </AuthorizeView>
    </MudAppBar>
    <MudMainContent Class="mt-16 pa-4">
        <ErrorBoundary>
            @Body
        </ErrorBoundary>
    </MudMainContent>
</MudLayout>


   @code {
    // You can include any code-behind logic here if needed
   }
