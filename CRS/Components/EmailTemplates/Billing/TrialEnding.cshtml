@using Horizon.Models.Emails
@model BillingNotificationEmail

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Trial Ending Soon - @Model.TenantName</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f3f4f6; -webkit-font-smoothing: antialiased;">
    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="background-color: #f3f4f6;">
        <tr>
            <td align="center" style="padding: 40px 20px;">
                <table role="presentation" width="600" cellspacing="0" cellpadding="0" border="0" style="max-width: 600px; width: 100%;">
                    
                    <!-- Logo -->
                    <tr>
                        <td style="background-color: #ffffff; padding: 24px 40px; border-radius: 16px 16px 0 0; border: 1px solid #e5e7eb; border-bottom: none; text-align: center;">
                            <h2 style="margin: 0; color: #FF8C00; font-size: 24px; font-weight: 700;">ALX Reserve Cloud</h2>
                        </td>
                    </tr>
                    
                    <!-- Header with Warning Color -->
                    <tr>
                        <td style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); padding: 40px; text-align: center;">
                            <div style="width: 64px; height: 64px; background: rgba(255,255,255,0.2); border-radius: 50%; margin: 0 auto 16px; line-height: 64px;">
                                <span style="font-size: 32px;">⏰</span>
                            </div>
                            <h1 style="margin: 0 0 8px 0; color: #ffffff; font-size: 28px; font-weight: 700;">Your Trial Ends in 3 Days</h1>
                            <p style="margin: 0; color: rgba(255,255,255,0.9); font-size: 16px;">Continue enjoying all features by subscribing</p>
                        </td>
                    </tr>

                    <!-- Main Content -->
                    <tr>
                        <td style="background-color: #ffffff; padding: 32px 40px; border-left: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;">
                            
                            <p style="margin: 0 0 24px 0; color: #374151; font-size: 16px; line-height: 1.6;">
                                Hi@(string.IsNullOrEmpty(Model.OwnerName) ? "" : $" {Model.OwnerName}"),
                            </p>
                            
                            <p style="margin: 0 0 24px 0; color: #374151; font-size: 16px; line-height: 1.6;">
                                Your free trial for <strong>@Model.TenantName</strong> is ending in <strong>3 days</strong>. 
                                We hope you've been enjoying ALX Reserve Cloud and all its features!
                            </p>

                            <!-- Benefits Box -->
                            <div style="background-color: #f0fdf4; border: 1px solid #86efac; border-radius: 12px; padding: 20px; margin-bottom: 24px;">
                                <h3 style="margin: 0 0 12px 0; color: #166534; font-size: 16px; font-weight: 600;">
                                    ✨ What you'll keep with your subscription:
                                </h3>
                                <ul style="margin: 0; padding-left: 20px; color: #374151; font-size: 14px; line-height: 1.8;">
                                    <li>All your communities and reserve studies</li>
                                    <li>Complete historical data and reports</li>
                                    <li>Team member access and permissions</li>
                                    <li>Automated reminders and notifications</li>
                                    <li>Priority support from our team</li>
                                </ul>
                            </div>

                            <!-- Pricing Reminder -->
                            @if (!string.IsNullOrEmpty(Model.PlanName))
                            {
                                <div style="background-color: #faf5ff; border: 1px solid #d8b4fe; border-radius: 12px; padding: 20px; margin-bottom: 24px;">
                                    <p style="margin: 0; color: #7c3aed; font-size: 14px;">
                                        <strong>Your Plan:</strong> @Model.PlanName
                                    </p>
                                </div>
                            }

                            <!-- CTA Button -->
                            @if (!string.IsNullOrEmpty(Model.BillingPortalUrl))
                            {
                                <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin: 24px 0;">
                                    <tr>
                                        <td align="center">
                                            <a href="@Model.BillingPortalUrl" 
                                               style="display: inline-block; background: linear-gradient(135deg, #6A3D9A 0%, #FF8C00 100%); color: #ffffff; text-decoration: none; padding: 16px 40px; border-radius: 8px; font-weight: 600; font-size: 16px;">
                                                Manage Your Subscription →
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                            }

                            <p style="margin: 24px 0 0 0; color: #6b7280; font-size: 14px; line-height: 1.6;">
                                <strong>What happens if you don't subscribe?</strong><br>
                                After your trial ends, you'll lose access to your account, but your data will be preserved for 30 days. 
                                You can subscribe at any time during this period to regain full access.
                            </p>
                        </td>
                    </tr>

                    <!-- Help Section -->
                    <tr>
                        <td style="background-color: #f9fafb; padding: 24px 40px; border-left: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
                                <tr>
                                    <td style="text-align: center;">
                                        <p style="margin: 0 0 8px 0; color: #374151; font-size: 14px; font-weight: 600;">
                                            Questions about your subscription?
                                        </p>
                                        <p style="margin: 0; color: #6b7280; font-size: 14px;">
                                            Our support team is here to help: 
                                            <a href="mailto:@Model.SupportEmail" style="color: #6A3D9A; text-decoration: none;">@Model.SupportEmail</a>
                                        </p>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- Footer -->
                    <tr>
                        <td style="background-color: #ffffff; padding: 24px 40px; border-radius: 0 0 16px 16px; border: 1px solid #e5e7eb; border-top: none; text-align: center;">
                            <p style="margin: 0 0 8px 0; color: #9ca3af; font-size: 12px;">
                                © @DateTime.UtcNow.Year ALX Reserve Cloud. All rights reserved.
                            </p>
                            <p style="margin: 0; color: #9ca3af; font-size: 12px;">
                                You're receiving this email because you signed up for a trial at ALX Reserve Cloud.
                            </p>
                        </td>
                    </tr>

                </table>
            </td>
        </tr>
    </table>
</body>
</html>
