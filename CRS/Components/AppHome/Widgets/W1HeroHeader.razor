@using CRS.Services.Tenant
@inject ITenantContext TenantContext
@inject CRS.Services.Tenant.ITenantUserRoleService RoleService

<MudPaper Class="pa-4 mb-4" Elevation="0">
    <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="3">
        <MudAvatar Size="Size.Large" Variant="Variant.Filled" Color="Color.Primary">@TenantContext.TenantName?.Substring(0,1)</MudAvatar>
        <MudStack>
            <MudText Typo="Typo.h5">@TenantContext.TenantName</MudText>
            <MudText Typo="Typo.subtitle2">You are logged in as: @RoleService.EffectivePrimaryRole</MudText>
        </MudStack>
    </MudStack>
</MudPaper>

@code {
    protected override async Task OnInitializedAsync() {
        await RoleService.InitializeAsync();
    }
}
